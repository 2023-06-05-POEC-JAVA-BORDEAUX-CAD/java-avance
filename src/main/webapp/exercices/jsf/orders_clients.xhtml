<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets" data-theme="dark">
<f:metadata>
	<f:viewParam name="cli_id" value="#{clientController2.id}" />
	<f:viewAction action="#{clientController2.onLoad}" />
</f:metadata>
<f:metadata>
	<f:viewParam name="ord_id" value="#{orderController.id}" />
	<f:viewAction action="#{orderController.onLoad}" />
</f:metadata>
<h:head>
	<!-- JSF remplace h:head par <head> et ajoute des caractéristiques à cette balise -->
	<link rel="stylesheet" href="css/minstyle.io.css" />
	 <style>
          * {padding:5px;margin:0px;}
          body {background-color:#333333; color:#ffffff}
     </style>
</h:head>
<h:body >
	<h1>Commandes</h1>
	
	<h2>Commande par id</h2>
	
	
	<h:form id="clientForm">
	  
		<h:selectOneMenu value="#{orderController.id}">
			<f:selectItem itemValue="-1"  itemLabel="Sélectionnez un n° de commande"/>
			<f:selectItems value="#{orderController.orders}" var="order" itemLabel="#{order.designation}" itemValue="#{order.id}"/>
		</h:selectOneMenu>
	    <h:commandButton action="#{orderController.catchButtonSelect}" value="Selectionner" />
	</h:form>
	
	<p>Commande N° #{orderController.order.id}</p>
	<p>Type de prestation : #{orderController.order.typePresta}</p>
	<p>Designation : #{orderController.order.designation}</p>
	<p>N° client : #{orderController.order.client.id}</p>
	<p>Nom client : #{orderController.order.client.firstName}</p>
	<p>Prenom client : #{orderController.order.client.lastName}</p>
	<p>Nom société : #{orderController.order.client.companyName}</p>
	
	<h2>Toutes les commandes</h2>
	
	<ui:repeat value="#{orderController.orders}" var="order">
			<p>Commande N° #{order.id}</p>
			<p>Type de prestation : #{order.typePresta}</p>
			<p>Designation : #{order.designation}</p>
			<p>Nom client : #{order.client.firstName}</p>
			<p>Prenom client : #{order.client.lastName}</p>
			<p>Nom société : #{order.client.companyName}</p>
			<br />
			<p>-------------------------------------------</p>
    </ui:repeat>

	
	<h1>Clients</h1>
	
	<h2>Client par id</h2>
	
	<p>Client N° #{clientController2.client.id}</p>
	<p>Prenom client : #{clientController2.client.firstName}</p>
	<p>Nom client : #{clientController2.client.lastName}</p>
	<p>Nom société : #{clientController2.client.companyName}</p>
	
	
	<h2>Tous les clients</h2>


	<ui:repeat value="#{clientController2.clients}" var="client">
			<p>Client N° #{client.id}</p>
			<p>Prenom client #{client.firstName}</p>
			<p>Nom client : #{client.lastName}</p>
			<p>Nom société : #{client.companyName}</p>
    </ui:repeat>

</h:body>
</html>