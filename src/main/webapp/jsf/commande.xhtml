<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html
  lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:jsf="http://xmlns.jcp.org/jsf"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  data-theme="dark"
>
  <f:metadata>
    <f:viewParam name="id" value="#{commandeFaceBean.loadId}" />
    <f:viewAction action="#{commandeFaceBean.onLoad}" />
  </f:metadata>
  <h:head>
    <!-- JSF remplace h:head par <head> et ajoute des caractéristiques à cette balise -->
    <link rel="stylesheet" href="css/minstyle.io.css" />
  </h:head>
  <h:body>
    <div>Le message de Commande : #{commandeFaceBean.message}</div>
    <div>Le numéro de Commande : #{commandeFaceBean.numero}</div>
    <div>La commande est elle payée : #{commandeFaceBean.paye}</div>
    <div>La date de la commande : #{commandeFaceBean.date}</div>
    <div>J'affiche l'id : #{commandeFaceBean.loadId}</div>

    <h:form prependId="false">
      <-- Création d’un formulaire JSF
      <h2>Commandes</h2>
      <p>
        <label for="id">Id :</label>
        <br />
        <h:inputText
          id="id"
          type="text"
          placeholder="id"
          value="#{commandeFaceBean.commande.id}"
          required="required"
          title="id"
        />
        <-- utilisation de champs input. Le mapping se fait grâce à value
      </p>
      <p>
        <label for="name">Value :</label>
        <br />
        <h:inputText
          id="value"
          type="text"
          placeholder="value"
          value="#{commandeFaceBean.commande.value}"
          required="required"
          title="Value"
        />
      </p>
      <p>
        <h:commandButton
          value="Sauvegarder"
          action="#{commandeFaceBean.save}"
        />
        <-- Appel à save pour sauvegarder le formulaire
      </p>
    </h:form>
  </h:body>
</html>
